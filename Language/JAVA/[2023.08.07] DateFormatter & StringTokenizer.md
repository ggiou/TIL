# 💜 [2023-08-07]
### 1. DateFormatter

### 내가 한 실수! 꼭 확인할 것
``` JAVA
//원하는 형식 -> 시간이 오후일 경우 +12시간 된 상태로 반환됨 = 오후 3시 -> 03 (X) -> 15 (O)
LocalDateTime now = LocalDateTime.now(); 
String snow = now.format(DateTimeFormatter.ofPattern("yyyyMMddhhmmss")); //잘못된 형식 -> 03 (X)

/*  yyyyMMddhhmmss -> 내가 생각한 것 2023(년)08(월)07(일)13(시)12(분)12(초) -> 20230807131212 로 나올거라 생각했지만
    실제로는 소문자로 hh를 할 경우에는 오전 오후 상관 없이 -> 오전 1시 - 01, 오후 1시 - 01 이런식으로 반환된다.
    !만약 이런식으로 소문자 hh를 통해 오전 오후 비교할려면 a hh -> 오전 01 이런식으로 반환되게 할 수 있다.

->  하지만 이런 a를 통해 오전 오후를 비교해 오후일 경우 120000을 더하는 것 보다
    단순히 formatting을 hh -> HH로 변환해주면 HH가 24시를 기준으로 날짜를 가져와서 정상적으로 동작한다.  */

now.format(DateTimeFormatter.ofPattern("yyyyMMddHHmmss")); //옳은 형식 -> 15 (O)
```
이처럼 formatting 실수로 유효기간을 비교해 해당 유효기간에 포함된다면 사용할 수 있도록 유효성 검사하는 부분을 <br>
가져온 데이터를 바탕으로 숫자형으로 변환해 long으로 비교하던 중 <br> 
오전 오후에서 24시간을 기준으로 가져와지는 부분에서 실수를 해 제대로 검사가 이뤄지지 않는 실수를 했다. <br>
또한 test 당시에 여러 조건이 아닌 그동안 00시일 경우로 기간을 설정해둔 탓에 해당 부분이 오류 없이 test가 통과 되었고, <br>
실제로 이 로직이 돌아갈 당시에 test에서 통과된 00시가 아닌 시간은 07시로 바꾸는 바람에 오전에는 정상적을 동작하던 것이 <br>
오후가 되서 01로 받아와져 숫자가 더 작다 판단되 해당 오류를 겪게 되었다. <br>
원래 date를 통해 날짜를 비교하는 코드로 제작할려다가 기존 프로그램에서 <br>
사용되던 방식 따라 갈려다가 꼼꼼히 확인하지 않아 오류가 났다.<br>
<b>이를 통해 test를 할때에도 다양한 case를 두고 여러번의 test를 하고 언제나 꼼꼼히 살펴보며 확인을 해야겠다 많은 생각이 들었다.</b>
